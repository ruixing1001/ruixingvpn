<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-key="page_title">瑞星 VPN - 极速安全，畅享无限</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Three.js for Particle Background -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            overflow: hidden; /* 防止滚动条 */
            color: #ffffff;
        }
        
        /* 动态背景容器 */
        #particle-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* 确保在最底层 */
        }

        .gradient-bg {
            background: linear-gradient(45deg, #1a237e, #3949ab, #0d47a1, #01579b);
            background-size: 200% 200%;
            animation: gradient-animation 20s ease infinite;
        }

        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* 元素淡入动画 */
        @keyframes fade-in-up {
            from {
                opacity: 0;
                transform: translateY(25px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in-up {
            opacity: 0; /* 初始状态透明 */
            animation: fade-in-up 0.8s ease-out forwards;
        }

        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        .delay-500 { animation-delay: 0.5s; }

        /* 倒计时进度条 */
        .countdown-bar {
            height: 6px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 9999px;
            overflow: hidden;
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
        }
        .countdown-progress {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #81d4fa, #4fc3f7, #29b6f6); /* 浅蓝色渐变 */
            transition: width 1s linear;
            border-radius: 9999px;
            box-shadow: 0 0 10px #4fc3f7;
        }

        /* 语言切换按钮 */
        .lang-button {
            @apply px-3 py-1 text-sm font-medium rounded-full transition-all duration-300;
        }
        .lang-button.active {
            @apply bg-white text-indigo-700 shadow-lg;
        }
        .lang-button:not(.active) {
            @apply bg-white bg-opacity-10 text-white hover:bg-opacity-25 backdrop-blur-sm;
        }
        
        /* 卡片样式升级 */
        .content-card {
            background: rgba(19, 27, 78, 0.3); /* 深蓝色半透明背景 */
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 2rem; /* 更大的圆角 */
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden; /* 用于发光效果 */
        }
        
        /* 卡片发光效果 */
        .content-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 150px;
            height: 100%;
            background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: translateX(-100%);
            animation: shimmer 5s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-150%) skewX(-30deg); }
            100% { transform: translateX(450%) skewX(-30deg); }
        }

    </style>
</head>
<body class="flex items-center justify-center min-h-screen gradient-bg text-white relative">

    <!-- 动态粒子背景 -->
    <div id="particle-canvas"></div>

    <!-- 语言切换器 -->
    <div class="absolute top-6 right-6 flex space-x-2 z-20">
        <button id="lang-zh" class="lang-button active">中文</button>
        <button id="lang-en" class="lang-button">English</button>
    </div>

    <!-- 主内容区 -->
    <div class="text-center p-8 md:p-12 lg:p-16 content-card max-w-2xl w-full mx-4 z-10">
        <h1 class="text-4xl md:text-6xl font-black mb-3 animate-fade-in-up tracking-wider uppercase" data-lang-key="main_title">Ruixing VPN</h1>
        <p class="text-lg md:text-2xl font-light mb-8 animate-fade-in-up delay-100 text-gray-200" data-lang-key="subtitle">极速连接，安全畅享，隐私无忧</p>

        <p id="countdown-message" class="text-md md:text-xl mb-5 font-medium animate-fade-in-up delay-200" data-lang-key="countdown_message">
            页面将在 <span id="countdown-seconds" class="text-cyan-300 font-bold">10</span> 秒后自动跳转...
        </p>

        <div class="countdown-bar mb-8 animate-fade-in-up delay-300">
            <div id="countdown-progress" class="countdown-progress"></div>
        </div>

        <a id="manual-redirect-link" href="https://go.ruixing.fun"
           class="inline-flex items-center gap-2 px-8 py-3 bg-white text-indigo-700 font-bold text-lg rounded-full shadow-lg hover:bg-indigo-100 hover:text-indigo-800 transition-all duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-105 animate-fade-in-up delay-400"
           data-lang-key="manual_redirect_button">
            <span>手动跳转</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
        </a>
    </div>

    <!-- 永久网址提示 (移至页面底部) -->
    <div class="absolute bottom-6 left-1/2 -translate-x-1/2 text-center w-full px-4 z-20 animate-fade-in-up delay-500">
        <p class="text-sm opacity-70 font-medium" data-lang-key="permanent_url_tip">
            请记住我们的永久网址：<a href="https://ruixing.fun" target="_blank" class="text-cyan-300 hover:underline font-semibold">ruixing.fun</a>
        </p>
    </div>

    <script>
        // --- START: Three.js Particle Background ---
        let scene, camera, renderer, particles;

        function initParticles() {
            // Scene
            scene = new THREE.Scene();

            // Camera
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 50;

            // Renderer
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            document.getElementById('particle-canvas').appendChild(renderer.domElement);

            // Particles
            const particleCount = 5000;
            const positions = new Float32Array(particleCount * 3);
            const geometry = new THREE.BufferGeometry();
            const material = new THREE.PointsMaterial({
                color: 0xffffff,
                size: 0.1,
                transparent: true,
                opacity: 0.7,
                blending: THREE.AdditiveBlending
            });

            for (let i = 0; i < particleCount * 3; i++) {
                positions[i] = (Math.random() - 0.5) * 100;
            }
            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            particles = new THREE.Points(geometry, material);
            scene.add(particles);

            // Handle window resize
            window.addEventListener('resize', onWindowResize, false);
            
            // Start animation
            animateParticles();
        }

        function animateParticles() {
            requestAnimationFrame(animateParticles);
            particles.rotation.y += 0.0002;
            particles.rotation.x += 0.0001;
            renderer.render(scene, camera);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        initParticles();
        // --- END: Three.js Particle Background ---


        // --- START: Countdown and Language Logic ---
        const redirectUrl = 'https://go.ruixing.fun';

        let countdownSecondsElement = document.getElementById('countdown-seconds');
        const countdownProgressElement = document.getElementById('countdown-progress');
        const manualRedirectLink = document.getElementById('manual-redirect-link');
        const langZhButton = document.getElementById('lang-zh');
        const langEnButton = document.getElementById('lang-en');

        const translations = {
            zh: {
                page_title: '瑞星 VPN - 极速安全，畅享无限',
                main_title: '瑞星 VPN',
                subtitle: '极速连接，安全畅享，隐私无忧',
                countdown_message: '页面将在 <span id="countdown-seconds" class="text-cyan-300 font-bold"></span> 秒后自动跳转...',
                manual_redirect_button: '手动跳转',
                permanent_url_tip: '请记住我们的永久网址：<a href="https://ruixing.fun" target="_blank" class="text-cyan-300 hover:underline font-semibold">ruixing.fun</a>',
            },
            en: {
                page_title: 'Ruixing VPN - Ultra-fast, Secure, Unlimited',
                main_title: 'Ruixing VPN',
                subtitle: 'High-speed Connection, Secure Access, Privacy Assured',
                countdown_message: 'Redirecting in <span id="countdown-seconds" class="text-cyan-300 font-bold"></span> seconds...',
                manual_redirect_button: 'Go to Home',
                permanent_url_tip: 'Remember our permanent URL: <a href="https://ruixing.fun" target="_blank" class="text-cyan-300 hover:underline font-semibold">ruixing.fun</a>',
            }
        };

        let currentLang = localStorage.getItem('ruixing_vpn_lang') || 'zh';
        let countdown = 10;
        let interval;

        function updateCountdown() {
            if (countdownSecondsElement) {
                countdownSecondsElement.textContent = countdown;
            }
            const progressPercentage = ((10 - countdown) / 10) * 100;
            countdownProgressElement.style.width = `${progressPercentage}%`;

            if (countdown <= 0) {
                clearInterval(interval);
                window.location.href = redirectUrl;
            }
            countdown--;
        }

        function switchLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('ruixing_vpn_lang', lang);

            document.querySelectorAll('[data-lang-key]').forEach(element => {
                const key = element.getAttribute('data-lang-key');
                if (translations[currentLang][key]) {
                    if (key === 'countdown_message' || key === 'permanent_url_tip') {
                        element.innerHTML = translations[currentLang][key];
                        if (key === 'countdown_message') {
                            countdownSecondsElement = document.getElementById('countdown-seconds');
                        }
                    } else if (element.tagName === 'A' || element.tagName === 'BUTTON') {
                        // For buttons/links, update the inner span or text content
                        const textNode = element.querySelector('span') || element;
                        textNode.textContent = translations[currentLang][key];
                    } else {
                        element.textContent = translations[currentLang][key];
                    }
                }
            });

            langZhButton.classList.toggle('active', lang === 'zh');
            langEnButton.classList.toggle('active', lang === 'en');

            clearInterval(interval);
            countdown = 10;
            updateCountdown();
            interval = setInterval(updateCountdown, 1000);
        }

        manualRedirectLink.href = redirectUrl;
        langZhButton.addEventListener('click', () => switchLanguage('zh'));
        langEnButton.addEventListener('click', () => switchLanguage('en'));
        
        // Initial setup
        switchLanguage(currentLang);
        // --- END: Countdown and Language Logic ---

    </script>
</body>
</html>
